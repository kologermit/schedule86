# Телеграм бот со школьным расписанием
Проект представляет собой телеграм бота со школьным расписанием. Реализован на Python с использованием библиотеки PyTelegramBotAPI.  Он позволяет пользователям генерировать короткие ссылки для длинных URL, облегчая  их  использование  и  отслеживание.
# Пример работы
* [Бот](https://t.me/schedule86_bot)
# Функциональность
* Предоставление расписания учеников или учителей
* Обновление расписания посредством отправки excel-таблицы представления из программы Хронограф-мастер
* Рассылка актуального расписания
* Предоставление информации о погоде на стадионе
* Предоставление информации о каникулах
* Предоставление информации о звонках
## Необходимые программы
* Docker-compose версии 3+
## Первый запуск
### Настройка БД (необязательно):
1) Создать файл .env
2) Добавить переменные окружения
   * DB_USER - имя пользователя БД. Пример (по умолчанию) ```kologermit```
   * DB_PASSWORD - пароль от пользователя БД. Пример (по умолчанию) ```Qwerty5432```
   * DB_NAME - имя БД. Пример (по умолчанию) ```schedule86```
   * DB_ROOT_PASSWORD - пароль от root пользователя БД. Пример (по умолчанию) ```Qwerty5432```
   * DB_EXTERNAL_PORT - внешний порт для подключения к БД. Пример (по умолчанию) ```5000```
### Настройка бота (обязательно)
1) Создать файл bot/env.py
2) Добавить переменные
   * TOKEN - токен бота
   * mysql - настройки подключения к БД. Необходимо сделать при изменении настроек БД. Пример (по умолчанию) 
```{"user":"root", "password":"Qwerty5432", "host":"mysql", "database":"schedule86"}```. Важно ключ host оставить равным ```mysql```
   * API_KEY - ключ от openweathermap
### Выполнить команду при запущенном Docker в корневой папке проекта
```bash
docker compose up -d
```
## Перезапуск
```bash
docker compose restart
```
## Остановка
```bash
docker compose stop
```
## Удаление проекта из Docker
```bash
docker compose rm -f -s
```
## Просмотр логов
```bash
docker compose logs --tail 100 -f
```
### Чтобы выйти из просмотра логов CTRL+C
# Использованные технологии
- Язык программирования: Python
- Библиотека: PyTelegramBotAPI
  * Взаимодествие с API Telegram
  * Скачивание присланных файлов в бота
  * Управление ботом
- Библиотека: xlrd
  * Чтение excel-таблиц
- Бибилиотека: mysql-connector-python
  * Взаимодействие с БД (MySQL)
- БД: MySQL
- Запуск: Docker-compose